# DO NOT EDIT THIS FILE DIRECTLY
# ALL CHANGES MUST GO THROUGH PULL REQUESTS
# MALFORMED FILE CONTENTS WILL BREAK THE SITE BUILD

- version: "2.32.1"
  date: 2016-12-24
  lts_predecessor: "2.19.4"
  lts_baseline: "2.32"
  lts_changes:
    - type: major rfe
      message: >
        Upgrade Remoting to version 3.1 with <a href="https://github.com/jenkinsci/remoting/blob/master/docs/protocols.md#jnlp4-connect">JNLP4-connect protocol</a>.
        <a href="https://github.com/jenkinsci/remoting/blob/master/docs/remoting-3-compatibility.md">Compatibility notes are available here</a>.
        Notably, it is no longer possible to use JDK 6 for the Maven project type, as communication with the Maven process uses Remoting, and it now requires Java 7.
      references:
        - issue: 37564
        - issue: 36871
        - issue: 37565
    - type: major rfe
      message: Show notification with popup on most pages when administrative monitors are active.
      issue: 38391
    - type: rfe
      message: Allow disabling/enabling administrative monitors on Configure Jenkins form.
      issue: 38301
    - type: rfe
      message: Ask for confirmation before canceling/aborting runs.
      issue: 30565
    - type: rfe
      message: Prompt user whether to add the job to the current view.
      issue: 19142
    - type: rfe
      message: >
        Allow <code>CommandInterpreter</code> build steps to set a build result as <em>Unstable</em> via the return code.
        Shell and Batch build steps now support this feature.
      issue: 23786
    - type: rfe
      message: >
        Internal: Upgrade Stapler library from 1.243 to 1.246 with fixes required for the Blue Ocean project.
        Changes are listed <a href="https://github.com/stapler/stapler/compare/stapler-parent-1.243...stapler-parent-1.246">here</a>.
      pull: 2593
  changes:
    - type: major bug
      message: >
        Prevent early deallocation of process references by Garbage Collector when starting a remote process.
        It was sometimes causing build failures with messages like <code>FATAL: Invalid object ID 184 iuota=187</code> and <code>java.lang.Exception: Object was recently deallocated</code>.
      issue: 23271
    - type: bug
      message: Redirect to login page in the case of authorisation error when checking connectivity to the Update Center.
      issue: 39741
    - type: bug
      message: >
        WinP 1.24: Native class now tries loading DLLs from the temporary location.
      issue: 20913
    - type: bug
      message: >
        WinP 1.24: WinP sometimes kills wrong processes when using <code>killRecursive()</code>.
        It was likely impacting process termination on Windows agents and sometimes leading to BSoD.
      issue: 24453
- version: "2.32.2"
  date: 2017-02-01
  changes:
    - type: security
      message: Important security fixes.
      references:
        - url: https://jenkins.io/security/advisory/2017-02-01/
          title: security advisory
    - type: major rfe
      message: Support displaying of warnings from the update site in the plugin manager and in administrative monitors.
      references:
        - issue: 40494
        - url: https://jenkins.io/blog/2017/01/10/security-warnings/
          title: announcement blog post
    - type: bug
      message: Correctly state that Jenkins will refuse to load plugins whose dependencies are not satisfied in plugin manager.
      issue: 40666
    - type: bug
      message: The <tt>install-plugin</tt> CLI command now correctly installs plugins when multiple file arguments are specified.
      issue: 32358
    - type: bug
      message: >
        Prevent the <code>ClassNotFoundException: javax.servlet.ServletException</code> error when invoking shell tasks on remote agents.
      issue: 40863
    - type: bug
      message: Properties were not passed to Maven command by Maven build step when the <em>Inject Build Variables</em> flag was not set.
      issue: 39268
    - type: bug
      message: Job configuration submission now does not fail when there is no parameters property.
      issue: 39700, regression in 1.637
    - type: bug
      message: Update Remoting to 3.4 in order to properly terminate the channel in the case <code>Errors</code> and <code>Exception</code>s.
      issue: 39835
    - type: bug
      message: <em>Check for Updates</em> button in the Plugin Manager was hidden in the <em>Updates</em> tab when there was no plugins updates available.
      issue: 39971
    - type: bug
      message: >
        SSHD Module: Handshake was failing (wrong shared secret) 1 out of 256 times due to <a href="https://issues.apache.org/jira/browse/SSHD-330">SSHD-330</a>.
      issue: 40362
    - type: bug
      message: >
        Performance: Use bulk change when submitting Job configurations to minimize the number of sequential <code>config.xml</code> write operations.
      issue: 40435
    - type: bug
      message: Jobs were hanging during process termination on the Solaris 11 Intel platform, regression in 2.20.
      issue: 40470
    - type: bug
      message: Restore option value for setting build result to unstable when loading shell and batch build steps from disk.
      issue: 40894
    - type: rfe
      message: >
        Update to Winstone 3.2 to support ad-hoc certificate generation on Java 8 (using unsupported APIs).
        <strong>This option is deprecated and will be removed in a future release.</strong>
        We strongly recommend you create self-signed certificates yourself and use <tt>--httpsKeyStore</tt> and related options instead.
      issue: 25333
- version: "2.32.3"
  date: 2017-03-01
  changes:
    - type: bug
      message: >
        Display an informative message, rather than a Groovy exception, when <code>View#getItems</code> fails.
      issue: 41825
      pull: 2739
    - type: bug
      message: Don't try to set Agent Port when it is enforced, breaking form submission.
      issue: 41511
      pull: 2726
    - type: bug
      message: Don't add all group names as HTTP headers on "access denied" pages, possibly breaking reverse proxies due to very large headers.
      issue: 39402
      pull: 2727
    - type: bug
      message: Fix handling of the <tt>POST</tt> flag in <code>ManagementLink</code>s within the Manage Jenkins page.
      issue: 38175
      pull: 2692
    - type: bug
      message: <code>IllegalStateException</code> from Winstone when making certain requests with access logging enabled.
      issue: 37625
      pull: 2721
    - type: bug
      message: Do not fail to write a log file just because something deleted the parent directory.
      issue: 16634
      pull: 2738
- version: "2.46.1"
  date: 2017-03-29
  lts_predecessor: "2.32.3"
  lts_baseline: "2.46"
  lts_changes:
    - type: rfe
      message: >
        Update the <a href="https://github.com/jenkinsci/sshd-module">SSHD module</a> from 1.7 to 1.8.
        The change disables obsolete Ciphers: AES128CBC, TripleDESCBC, and BlowfishCBC.
    - type: rfe
      message: Enable the JNLP4 agent protocol by default.
      references:
        - issue: 40886
        - url: https://github.com/jenkinsci/remoting/blob/master/docs/protocols.md#jnlp4-connect
          title: upgrade notes
    - type: rfe
      message: >
        Allow defining agent ping interval and ping timeout in seconds. It can be done via the
        <code>hudson.slaves.ChannelPinger.pingIntervalSeconds</code> and
        <code>hudson.slaves.ChannelPinger.pingTimeoutSeconds</code>
        system properties.
      issue: 28245
    - type: rfe
      message: Print stack traces in logical order, with the most important part on top.
      pull: 1485
    - type: rfe
      message: Reduce size of Jenkins WAR file by not storing identical copies of <code>remoting.jar</code>/<code>slave.jar</code> there.
      pull: 2633
    - type: rfe
      message: Do not print warnings about undefined parameters when <code>hudson.model.ParametersAction.keepUndefinedParameters</code> property is set to <code>false</code>.
      pull: 2687
    - type: rfe
      message: Increase the <code>JENKINS_HOME</code> disk space threshold from 1 GB to 10 GB left. The warning will be shown only if more than 90% of the disk is utilized.
      issue: 40749
    - type: bug
      message: Delete obsolete pinning UI.
      issue: 34065
    - type: bug
      message: Use project-specific validation URL for SCM Trigger, so <code>H</code> is handled correctly in preview.
      issue: 26977
    - type: bug
      message: Failure to serialize a single <code>Action</code> could cause an entire REST export response to fail. Upgraded to Stapler 1.250 with a fix.
      issue: 40088
    - type: bug
      message: Add Usage Statistics section to the global configuration to make it easier to find.
      issue: 32938
    - type: bug
      message: Allow <tt>groovy</tt> CLI command via SSH CLI.
      issue: 41765

  changes:
    - type: bug
      message: >
        Prevent file descriptor leaks when Windows Service installer fails to read data from the service startup log.
      issue: 42670
      pull: 2793
    - type: bug
      message: >
        Update Remoting from 3.5 to 3.7
        in order to prevent file descriptor leaks on agents in the case of multiple connection attempts.
      references:
        - url: https://github.com/jenkinsci/remoting/blob/master/CHANGELOG.md#37
          title: full changelog
      issue: 42371
      pull: 2773
    - type: bug
      message: Exceptions during Jenkins cleanup step should not block restart.
      issue: 42164
    - type: bug
      message: Cryptic error message when loading JnlpSlaveAgentProtocol4.
      issue: 41987
    - type: bug
      message: >
        Developer: Snapshot builds of plugins that had dependencies on other snapshot builds were not having their version numbers compared correctly.
      issue: 41899
    - type: bug
      message: Do not attempt to find the next occurrence of an impossible date such as June 31st in validation of trigger schedules.
      issue: 41864
      pull: 2759
    - type: bug
      message: >
        Remoting 3.5: Stability improvements.
      references:
        - issue: 41513
        - issue: 41852
    - type: bug
      message: Remove invalid translations in Slovene
      issue: 41756
      pull: 2767
    - type: rfe
      message: >
        Remoting 3.5: Add option to specify the Remoting protocol to use on the client.
      issue: 41730
    - type: bug
      message: Use of the remote API to create items in views (<tt>/view/…/createItem</tt>) didn't actually add items to views since Jenkins 2.22.
      issue: 41128
      pull: 2760
    - type: bug
      message: >
        Remoting 3.5: Remoting clients now accept lowercase (HTTP 2) headers sent by reverse proxies.
      issue: 40710
    - type: bug
      message: Windows service restart did not retain build queue.
      issue: 32820
- version: "2.46.2"
  date: 2017-04-26
  changes:
    - type: security
      message: Important security fixes.
      references:
        - url: https://jenkins.io/security/advisory/2017-04-26/
          title: security advisory
    - type: major rfe
      message: >
        Non-Remoting-based CLI.
      references:
        - issue: 41745
        - pull: 2795
        - url: /blog/2017/04/11/new-cli/
          title: announcement blog post
    - type: rfe
      message: >
        Disable SSH server by default.
      issue: 33595
    - type: bug
      message: <code>Computer#addAction</code> would throw an <code>UnsupportedOperationException</code> since Jenkins 2.30. Such a call site was released in SSH Slaves Plugin 1.15 for SECURITY-161.
      references:
        - issue: 42969
        - url: https://jenkins.io/security/advisory/2017-03-20/
          title: security advisory including SECURITY-161
      pull: 2819
    - type: bug
      message: Search results page did not correctly encode query parameters.
      issue: 42390
      pull: 2781
    - type: bug
      message: >
        When validating a cron expression, consider the specified time zone.
      pull: 2824
      issue: 43228
    - type: bug
      message: >
        Do not display a warning when an SCM trigger has no schedules (either to disable SCM post-commit hooks, or to enable them without polling).
      issue: 42194
      pull: 2758
    - type: bug
      message: Fix performance issue in deduplication of lists of tool installers.
      issue: 42141
      pull: 2752
- version: "2.46.3"
  date: 2017-05-25
  changes:
    - type: bug
      message: >
        If an exception is thrown while rendering an HTTP response, just log the stack trace on the server side, without trying to send an error page to the client.
      issue: 21695
      pull: 2834
    - type: bug
      message: >
        Setup wizard gets into bad state when failures like network issues happen.
      issue: 41778
      pull: 2825
    - type: bug
      message: >
        Catch and log <code>RuntimeException</code> in <code>Computer#setNode()</code> when updating the Computer list.
      issue: 42043
      pull: 2836
    - type: bug
      message: >
        Fix <tt>AccessDeniedException</tt> in "Build after other projects are built" when user has Discover permission but not Read.
      issue: 42707
      pull: 2846
    - type: bug
      message: >
        Prevent <code>NullPointerException</code> when a non-existent default view is specified in <em>Configure System</em>.
      issue: 42717
      pull: 2815
    - type: bug
      message: >
        Properly handle saving system configuration when disabling all, or all but one, administrative monitors.
      issue: 42852
      pull: 2828
    - type: bug
      message: >
        Remove links in stack traces to the <tt>stacktrace.jenkins-ci.org</tt> service that has been shut down.
      issue: 42861
      pull: 2811
    - type: bug
      message: >
        Ensure that <code>Cloud.PROVISION</code> is properly initialized during the configuration loading.
      issue: 43279
      pull: 2835
    - type: rfe
      message: >
        Migrate legacy users only once per restart to improve performance of the user retrieval logic.
      pull: 2862
      issue: 43936
    - type: bug
      message: Prevent rare <code>NullPointerException</code> if an admin user is created in the setup wizard after first disabling CSRF protection.
      pull: 2868
      issue: 44010

- version: "2.60.1"
  date: 2017-06-21
  lts_predecessor: "2.46.3"
  lts_baseline: "2.60"
  banner: >
    <strong>2.60.1 is the first Jenkins LTS release that requires Java 8 to run.</strong>
    If you're using the Maven Project type, please note that it needs to use a JDK capable of running Jenkins, i.e. JDK 8 or up.
    If you configure an older JDK in a Maven Project, Jenkins will attempt to find a newer JDK and use that automatically.
    If your SSH Slaves fail to start and you have the plugin install the JRE to run them, make sure to update SSH Slaves Plugin to at least version 1.17 (1.20 recommended).
  lts_changes:
    - type: major rfe
      message: >
        <strong>Jenkins (master and agents) now requires Java 8 to run.</strong>
      references:
        - issue: 27624
        - issue: 42709
        - pull: 2802
        - url: /blog/2017/04/10/jenkins-has-upgraded-to-java-8/
          title: announcement blog post
    - type: bug
      message: >
        Update Groovy to 2.4.8 to address memory leak issue.
        <strong><em>Pipeline: Groovy</em> needs to be upgraded to 2.28 or higher to prevent regressions.</strong>
      references:
        - issue: 33358
        - issue: 42189


    # WINDOWS SERVICES START
    - type: major rfe
      message: >
        Upgrade the Windows Agent Installer module from 1.6 to 1.7.
        This change picks major updates in Windows service management logic.
      references:
        - url: https://github.com/jenkinsci/windows-slave-installer-module/blob/master/CHANGELOG.md#17
          title: full changelog
        - url: https://github.com/jenkinsci/windows-slave-installer-module#upgrading-old-agents
          title: guide to upgrading old Windows service agents
      pull: 2765
    - type: major rfe
      message: >
        Windows services:
        Upgrade the bundled <a href="https://github.com/kohsuke/winsw">Windows Service Wrapper</a> from 1.18 to 2.0.2.
      references:
        - url: https://github.com/kohsuke/winsw/blob/master/CHANGELOG.md
          title: full changelog
      pull: 2765
    - type: rfe
      message: >
        Windows services:
        Enable <a href="https://github.com/kohsuke/winsw/blob/master/doc/extensions/runawayProcessKiller.md">Runaway Process Killer</a>
        by default in new Agent and Master installations.
      issue: 39231
      pull: 2765
    - type: rfe
      message: >
        Windows services:
        Enable auto-upgrade of Remoting on newly installed agents if they are connected by HTTPS.
      issue: 39237
      pull: 2765
    - type: rfe
      message: >
        Windows services:
        Add support of shared directories mapping in Windows agent services.
      references:
        - url: https://github.com/kohsuke/winsw/blob/master/doc/extensions/sharedDirectoryMapper.md
          title: Shared Directory Mapper documentation
      issue: 23487
      pull: 2765
    - type: bug
      message: >
        Windows services:
        Integrate various stability and performance fixes in <a href="https://github.com/kohsuke/winsw">Windows Service Wrapper</a>
        from 1.18 to 2.0.2.
        There are many fixes around configuration options and process termination.
      pull: 2765
      references:
        - url: https://github.com/kohsuke/winsw/blob/master/CHANGELOG.md
          title: full changelog
    # WINDOWS SERVICES END

    # PACKAGING START
    - type: bug
      message: >
        Packaging:
        Do not invoke recursive <code>chown</code> in <code>JENKINS_HOME</code> during the RPM post-install step unless owned by a different user.
      issue: 23273
    # PACKAGING END

    # SEARCH START
    - type: rfe
      message: >
        Use case-insensitive search by default for new and anonymous users.
      pull: 2801
      issue: 42645
    - type: rfe
      message: >
        Searching in the Build History widget takes into account user preferences (case sensitivity by default).
      pull: 2683
    - type: rfe
      message: >
        Allow searching by build parameter values in the Build History widget.
      issue: 40718
      pull: 2683
    # SEARCH END


    - type: rfe
      message: >
        Update the Trilead SSH library to get support of new Mac, Key, and Key Exchange Algorithms.
      references:
        - issue: 33021
        - issue: 26379
        - issue: 31549
        - issue: 42959
        - issue: 43979
        - issue: 44046
      pull: 2848
      # Included issue reference to followup fix in pull 2872
    - type: rfe
      message: >
        When creating temporary files, use the <code>jenkins</code> prefix instead of the old <code>hudson</code> one.
      pull: 2778


    # LOCALIZATIONS START
    - type: rfe
      message: Update German, French and Russian localizations.
      references:
        - pull: 2777
        - pull: 2787
        - pull: 2798
    - type: rfe
      message: >
        Removed localizations with very low coverage: Albanian, Basque, Belarusian, Bengali, Esperanto, Galician, Georgian, Gujarati, Hindi, Icelandic, Indonesian, Irish, Kannada, Macedonian, Marathi, Mongolian, Occitan, Punjabi, Sinhala, Tamil, Telugu, Thai.
      pull: 2813
    # LOCALIZATIONS END

    - type: rfe
      message: >
        Internal API:
        Add the ability for <code>ItemListener</code> to veto copy operations;
        make <code>Run#compareTo</code> work across jobs;
        save <code>Jenkins</code> after calling <code>setSecurityRealm</code> or <code>setAuthorizationStrategy</code>.
      references:
        - issue: 34691
        - issue: 42319
        - pull: 2762
        - pull: 2782
        - pull: 2790
        - pull: 2805
  changes:
    - type: bug
      message: >
        Fix for <code>NullPointerException</code> while initiating some SSH connections (regression in 2.59).
      issue: 44120
      pull: 2888
- version: "2.60.2"
  date: 2017-07-19
  changes:
    - type: rfe
      message: >
        Allow overriding the Jenkins session ID suffix so it doesn't change on every restart, possibly resulting in too many cookies.
      pull: 2917
      references:
        - url: https://github.com/jenkinsci/extras-executable-war#jetty-session-ids
          title: how to set session ID
        - issue: 25046
        - issue: 44894
    - type: bug
      message: >
        Add documentation for time zone specification for cron patterns (e.g. SCM polling).
      issue: 9283
      pull: 2927
    - type: bug
      message: >
        Do not submit form when pressing <kbd>Enter</kbd> in the plugin manager's filter field.
      pull: 2902
      issue: 44523
    - type: bug
      message: >
        Jenkins failed to perform some cleanup tasks, including saving the build queue, if stopped via REST <tt>/exit</tt>,
        CLI <tt>shutdown</tt>, or when restarting from <em>Install as Windows Service</em>.
      pull: 2908
      issue: 44589
    - type: bug
      message: >
        Don't check whether disabled administrative monitors are active or not on the <em>Manage Jenkins</em> page.
      issue: 44608
      pull: 2909
    - type: bug
      message: >
        When starting the <code>jenkins.war</code> directly, properly check for Java 8 as minimum instead of Java 7 before proceeding.
      issue: 44764
      pull: 2917
    - type: bug
      message: >
        Prevent <code>NullPointerException</code> when calling <code>restart</code> CLI command (regression in 2.57).
      issue: 44769
      pull: 2912
    - type: bug
      message: >
        Prevent possible <code>NullPointerException</code> when listing remote directories using the <code>FilePath#list()</code> and <code>FilePath#listDirectories()</code> APIs.
      pull: 2914
      issue: 44942
- version: "2.60.3"
  date: 2017-08-17
  changes:
    - type: bug
      message: >
        Contributions to the PATH environment variable could result in malformed values on agents on a platform different from master's.
      issue: 14807
      pull: 2936
    - type: bug
      message: >
        Robustness improvements related to agent connections.
      references:
        - issue: 43496
        - issue: 38527
      pull: 2922
      # also pull: 2923
    - type: bug
      message: >
        JNLP for launching agents now requests Java 8.
      pull: 2944
      issue: 45679
    - type: bug
      message: >
        Prevent <tt>NullPointerException</tt> in <code>Jenkins#getRootURL()</code> while the instance is not fully loaded yet.
      issue: 34914
      pull: 2935
    - type: bug
      message: >
        Fix <tt>NullPointerException</tt> when calculating culprits.
      issue: 45516
      pull: 2941
    - type: rfe
      message: >
        The <code>reload-configuration</code> CLI command now waits until the reload is finished, and returns an error code if the reload failed.
      issue: 45256
      pull: 2931
    - type: rfe
      message: >
        Remove the "JNLP" protocol references from the TCP Agent Listener log messages.
      issue: 44103
      pull: 2896
- version: "2.73.1"
  date: 2017-09-13
  lts_predecessor: "2.60.3"
  lts_baseline: "2.73"
  banner: >
    Two regressions since the previous LTS release have been identified in 2.73.1.
    One involved Remoting (agent) connections and the other concerns failures to use passphrase-protected ed25519 SSH keys.
    Please see <a href="/doc/upgrade-guide/2.73/#upgrading-to-jenkins-lts-2-73-1"> the LTS upgrade guide for 2.73.1</a> for more information.
  lts_changes:
  #### updated components and libraries
  # Groovy
    - type: major rfe
      message: >
        Upgrade Groovy from 2.4.8 to 2.4.11.
      references:
        - url: http://groovy-lang.org/changelogs/changelog-2.4.9.html
          title: Groovy 2.4.9 changelog
        - url: http://groovy-lang.org/changelogs/changelog-2.4.10.html
          title: Groovy 2.4.10 changelog
        - url: http://groovy-lang.org/changelogs/changelog-2.4.11.html
          title: Groovy 2.4.11 changelog
        # pull: 2814

    # Winstone-Jetty
    - type: major rfe
      message: >
        Integration of Winstone 4: Upgrade bundled Jetty from 9.2.15.v20160210 to 9.4.5.v20170502.
        <strong>This removes support for the deprecated SPDY protocol.
        The <tt>--spdy</tt> parameter has been removed accordingly and Jenkins may refuse to start if it's set.</strong>
      pull: 2850
      issue: 43713
      references:
        - title: full changelog
          url: "https://github.com/jenkinsci/winstone/blob/master/CHANGELOG.md#40"
    - type: bug
      message: >
        Jetty 9.4.5:
        Prevent the <i>400 Bad Host header</i> error for <code>HttpChannelOverHttp</code> when operating behind reverse proxy.
      pull: 2850
      references:
        - issue: 40693
        - title: corresponding Jetty issue
          url: "https://github.com/eclipse/jetty.project/issues/592"
    - type: rfe
      message: >
        Winstone 4.1: Add Jetty HTTP/2 connector and corresponding options for Winstone-Jetty.
      references:
        - issue: 45438
        - url: https://github.com/jenkinsci/winstone#http2-support
          title: enabling HTTP/2 support in Winstone-Jetty
      pull: 2937

    # remoting
    - type: major rfe
      message: >
        Update Remoting from 3.7 to 3.10 adding opt-in support for work directories and improving logging in Jenkins agents.
      references:
        - title: work directory documentation
          url: https://github.com/jenkinsci/remoting/blob/master/docs/workDir.md
        - title: logging documentation
          url: https://github.com/jenkinsci/remoting/blob/master/docs/logging.md
        - title: remoting changelog
          url: https://github.com/jenkinsci/remoting/blob/master/CHANGELOG.md#38
        - issue: 39370
    - type: rfe
      message: >
        Enable Remoting work directories by default for newly created agents launched via JNLP (Java Web Start Launcher).
      pull: 2945
      references:
        - issue: 44112
        - url: https://github.com/jenkinsci/remoting/blob/master/docs/workDir.md
          title: feature documentation

    # SSHD
    - type: major rfe
      message: >
        SSHD Module 2.0: Update from SSHD Core 0.14.0 to Apache MINA SSHD 1.6.0 in Jenkins core and Jenkins CLI.
      references:
        - title: changelog
          url: https://github.com/jenkinsci/sshd-module/blob/master/CHANGELOG.md#20
        - title: plugin compatibility notice
          url: https://github.com/jenkinsci/sshd-module/blob/master/CHANGELOG.md#20-compatibility-notice
        - issue: 43668
      pull: 2853
    - type: rfe
      message: >
        SSHD Module 2.0: Enable aes192ctr and aes256ctr ciphers if JVM supports unlimited-strength encryption.
      issue: 39738
      pull: 2853

    # Windows process library
    - type: rfe
      message: >
        Update WinP from 1.24 to 1.25 to improve performance and diagnostics
        of issues like <a href="https://issues.jenkins-ci.org/browse/JENKINS-30782">JENKINS-30782</a>.
      pull: 2893
      references:
        - title: full changelog
          url: "https://github.com/kohsuke/winp/blob/master/CHANGELOG.md#125"

    # posix-jnr
    - type: bug
      message: >
        Update jnr-posix from 3.0.1 to 3.0.41 to pick up improvements and fixes in the POSIX platforms support.
      pull: 2904


    #### Pipeline issues
    - type: rfe
      message: Freestyle projects may now list Pipeline jobs as downstream and trigger them, without needing to use the Parameterized Trigger plugin or reverse triggers ("Build after other projects are built").
      issue: 28113
      pull: 2873
    - type: rfe
      message: >
        Internal: Define enabling/disabling in <code>ParameterizedJob</code> rather than <code>AbstractProject</code>.
      issue: 27299
      pull: 2866
    - type: rfe
      message: >
        Fixed Pipeline compatibility for a number of CLI commands (<tt>delete-builds</tt>, <tt>list-changes</tt>, <tt>console</tt>, <tt>set-build-description</tt>, and <tt>set-build-display-name</tt>),
        as well as some issues affecting error reporting in other commands when used with Pipeline.
      pull: 2874
      references:
        - issue: 30785
        - issue: 41527
    - type: rfe
      message: >
        Enable simpler syntax for <code>upstream</code> build trigger in pipelines.
      issue: 34464
      pull: 2895
    - type: rfe
      message: >
        Minor optimization to queue maintenance routines and printing of console notes, mainly for the benefit of Pipeline node blocks.
      issue: 45553
      pull: 2947 # and 2948

    ##### Authorize project
    - type: rfe
      message: >
        If you have the Authorize Project plugin installed and configured, its configuration will now be treated as final with respect to the behavior of <em>Job/Build</em> checks from <strong>Build other projects</strong> and <strong>Build after other projects are built</strong>.
        Formerly, if a <strong>Per-project configurable Build Authorization</strong> was enabled globally but some projects did not specify an <strong>Authorization</strong>, the two aforementioned checks would automatically fall back to checking as anonymous (typically denying build permission).
        To restore the former behavior, explicitly configure a <strong>Project default Build Authorization</strong> to be <strong>Run as anonymous</strong>.
        Note that this will affect all build-scoped permission checks, including for example <em>Agent/Build</em>.
      issue: 22949
      pull: 2881
    - type: rfe
      message: >
        Internal API: <code>Tasks.getAuthenticationOf</code> now honors authentication contributed by <code>QueueItemAuthenticatorProvider</code> extensions.
      pull: 2880

    #### Misc issues
    - type: rfe
      message: >
        Moved agent port and protocol configuration out of "security" (authentication and authorization) block in Configure Global Security.
      issue: 4478
      pull: 2900
    - type: rfe
      message: >
        Don't reload user records from disk unless explicitly requested to improve performance of user record access.
      issue: 45737
      pull: 2928

    #### Development / internal
    - type: rfe
      message: >
        Plugin Development: Jenkins now no longer publishes a <code>war-for-test</code> artifact.
        Plugins using 2.64 or a later version of Jenkins (including 2.73.1) as baseline need to use plugin parent POM 2.30 or later.
      pull: 2899
      issue: 24064
  changes:
    - type: rfe
      message: >
        Update Windows service wrapper from 2.1.0 to 2.1.2 and Windows Agent Installer from 1.9 to 1.9.1.
      references:
        - url: https://github.com/kohsuke/winsw/blob/master/CHANGELOG.md
          title: Windows service wrapper changelog
        - url: https://github.com/jenkinsci/windows-slave-installer-module/blob/master/CHANGELOG.md
          title: Windows agent installer changelog
        - pull: 2987
        - issue: 46282
    - type: rfe
      message: >
        Log name of the executor thread that died to improve diagnosability.
      issue: 42376
      pull: 2970
    - type: bug
      message: >
        Prevent caching of the item categories list by the browser to prevent stale data.
      pull: 2973
      issue: 43848
    - type: bug
      message: >
        Improve robustness of the reverse build trigger ("Build after other projects are built").
      pull: 2966
      issue: 45909
    - type: bug
      message: >
        Include culprits in XML and JSON API again (regression in 2.60).
      issue: 46082
      pull: 2978
    - type: bug
      message: >
        Button to validate proxy configuration in Manage Plugins now works correctly with NTLM authorization.
      pull: 2984
      issue: 46288
- version: "2.73.2"
  date: 2017-10-11
  changes:
    - type: security
      message: Important security fixes.
      references:
        - url: https://jenkins.io/security/advisory/2017-10-11/
          title: security advisory
    - type: major bug
      message: >
        Fix random failures to use passphrase-protected ed25519 SSH private keys (regression in 2.73).
      issue: 46754
      pull: 3026
    - type: major bug
      message: >
        Update Remoting library from 3.10 to 3.10.2 to fix regression in Jenkins 2.68 when using non-writable home directories.
      references:
        - issue: 45755
        - url: https://github.com/jenkinsci/remoting/blob/master/CHANGELOG.md#3102
          title: full changelog
        - url: https://jenkins.io/doc/upgrade-guide/2.73/#known-issue-agent-connection-failures-involving-jenkins-masters-with-undefined-or-non-writable-home-directory
          title: issue description in 2.73.1 upgrade guide
      pull: 3025
    - type: major rfe
      message: >
        Update Remoting from 3.10 to 3.10.2 to improve stability and diagnosability.
      references:
        - issue: 45023
        - issue: 45233
        - issue: 46259
        - url: https://github.com/jenkinsci/remoting/blob/master/CHANGELOG.md#3102
          title: full changelog
- version: "2.73.3"
  date: 2017-11-08
  changes:
    - type: security
      message: Security fixes.
      references:
        - url: https://jenkins.io/security/advisory/2017-11-08/
          title: security advisory
    - type: major bug
      issue: 47448
      pull: 3093
      message: >
        Fix <em>Download from java.sun.com</em> installation method for JDK for downloads requiring an Oracle login after change to the Oracle site.
    - type: bug
      message: >
        Fix potential HTTP 414 error in form validation of long Batch/Shell tool installer scripts.
      issue: 47058
      pull: 3037
    - type: bug
      message: >
        Properly display agent launch arguments when using nested launch methods.
      issue: 47056
      pull: 3034
    - type: bug
      message: >
        Disconnect node on ping timeout instead of leaving the channel half open.
      pull: 3005
      issue: 46680
    - type: bug
      message: >
        Avoid a possible server-side timeout on long-running CLI commands using plain HTTP mode by sending periodic pings from the client.
      pull: 3011
      issue: 46659
- version: "2.89.1"
  date: 2017-12-06
  lts_predecessor: "2.73.3"
  lts_baseline: "2.89"
  banner: >
    Upgrading to Jenkins 2.89.1 does not install the <em>Command Launcher</em> plugin (see below) as it should. If you're using the <em>Launch agent via execution of command on the master</em> launch method for agents, or cloud provider plugins, make sure to manually install the plugin after upgrading, and restart Jenkins afterwards.
  lts_changes:
    - type: major rfe
      pull: 3076
      message: >
        <em>Launch agent via execution of command on the master</em> has been moved to a new <em>Command Launcher</em> plugin and integrated with the <em>Script Security</em> plugin.
      references:
        - issue: 47393
        - url: https://plugins.jenkins.io/command-launcher
          title: Command Launcher plugin site entry
        - url: https://jenkins.io/security/advisory/2017-10-11/#arbitrary-shell-command-execution-on-master-by-users-with-agent-related-permissions
          title: related security advisory
    - type: major bug
      message: >
        Prevent core or plugin code from mistakenly attempting to serialize jobs, builds, and users except in their intended top-level XML file positions, preventing a class of serious deserialization-related errors.
      issue: 45892
      pull: 2957
    - type: major bug
      message: >
        Developer: Fix <code>TimeDuration</code> time unit handling and its incorrect usage.
        <code>TimeDuration</code> uses milliseconds as the default unit.
        It was supposed to parse <code>sec</code> or <code>secs</code> suffix to interpret the number as seconds, but that never worked.
      issue: 44052
      pull: 3043

    # Stapler
    - type: major rfe
      message: >
        Upgrade Stapler library from 1.250 to 1.253.
      references:
        - pull: 2956
        - url: https://github.com/stapler/stapler/blob/master/CHANGELOG.md
          title: Stapler changelog
    - type: major bug
      message: >
         Stapler 1.252: Prevent file handle leak in <code>LargeText#GzipAwareSession</code>.
      issue: 45903
      pull: 2956
    - type: bug
      message: >
        Stapler 1.252: Restore ability to attach views to interfaces (regression in Jenkins 2.46).
      issue: 43715
      pull: 2956
    - type: rfe
      message: >
        Stapler 1.253: Servlet 3.1 support, improved Blue Ocean performance and changes of interest to plugin developers.
      references:
        - issue: 37062
        - url: https://github.com/stapler/stapler/blob/master/CHANGELOG.md#1253
          title: Stapler changelog
      pull: 3033

    # Remoting
    - type: major rfe
      message: > # from 3.10.2 to 3.13 for the baseline, but from 3.10.3 in 2.73.3 to 3.14 in 2.89.1 effectively
        Update Remoting to improve stability and diagnosability.
      references:
        - issue: 37567
        - issue: 43985
        - issue: 45522
        - issue: 47132
        - issue: 38711
        - url: https://github.com/jenkinsci/remoting/blob/master/CHANGELOG.md#313
          title: full changelog
      pull: 2988
    - type: rfe
      message: >
        Disable obsolete JNLP, JNLP2, and CLI protocols on new Jenkins installations during Setup Wizard.
      references:
        - issue: 45841
        - url: /blog/2017/08/11/remoting-update/
          title: announcement blog post
      pull: 2950
    - type: rfe
      message: >
        Restart agent communication related threads on both master and agents when encountering an unhandled exception, if possible, to improve stability.
      issue: 38711
      pull: 3017 # and 3061


    # Misc
    - type: rfe
      message: >
        Default the built-in Jenkins Update Center URL to <code>https://updates.jenkins.io</code> instead of obsolete HTTP endpoint.
        <strong>This requires a JRE compatible with <a href="https://letsencrypt.org/docs/certificate-compatibility/#known-compatible">Let's Encrypt</a>, e.g. Oracle JRE 8u101.</strong>
      pull: 2996
    - type: rfe
      message: >
        Moved Jenkins agent runtime to <code>agent.jar</code> file name, and deprecate (but still support) use of legacy <code>slave.jar</code>.
        Introduce the <code>AGENTJAR_URL</code> environment variable as replacement for <code>SLAVEJAR_URL</code>.
      pull: 3004
      issue: 35451
    - type: rfe
      message: >
        Improve error reporting when failing to archive artifacts.
      pull: 2976
    - type: rfe
      message: >
        Enable <code>cc.xml</code> to export jobs in folders recursively when accessed with a query parameter named <code>recursive</code>.
      pull: 3060 # and 3081
      issue: 36282
    - type: rfe
      message: >
        Add new administrative monitor warning users about disabled CSRF protection.
      issue: 47372
      pull: 3072
    - type: rfe
      message: >
        Commons Codec library upgraded from 1.8 to 1.9.
      pull: 3033
    - type: rfe
      message: >
        Agents JVM must be 1.8+ and a clear message is shown in connection logs if it is not.
      pull: 2915
      issue: 44851
    - type: rfe
      message: >
        Add sidebar link to create new view.
      pull: 3086
      issue: 6290

  changes:
    - type: major bug
      message: >
        Recover from legacy user configuration folders with <code>$</code> characters that are not part of hex escape sequences. (Regression in 2.89)
      issue: 47909
      pull: 3134
    - type: major bug
      issue: 47448
      pull: 3093
      message: >
        Fix <em>Download from java.sun.com</em> installation method for JDK for downloads requiring an Oracle login after change to the Oracle site.
    - type: rfe
      message: >
        Update Remoting from 3.13 to 3.14 in order to apply various performance and stability improvements.
      pull: 3138
      references:
        - url: https://github.com/jenkinsci/remoting/blob/master/CHANGELOG.md#314
          title: full changelog
        - issue: 37566
        - issue: 45294
        - issue: 47425
        - issue: 47901
        - issue: 47942
    - type: rfe
      message: >
        Update Windows Agent Installer from 1.9.1 to 1.9.2:
        Do not try to update <code>jenkins-slave.exe</code> on Unix agents when they connect.
      pull: 3130
      references:
        - url: https://github.com/jenkinsci/windows-slave-installer-module/blob/master/CHANGELOG.md#192
          title: full changelog
        - issue: 47015
    - type: bug
      message: >
        Prevent caching of captcha on the login form.
      pull: 3126
      issue: 43852
- version: "2.89.2"
  date: 2017-12-14
  changes:
    - type: security
      message: >
        Security fixes.
      references:
        - url: /security/advisory/2017-12-14/
          title: security advisory
        - url: /blog/2017/12/14/security-update/
          title: announcement blog post
- version: "2.89.3"
  date: 2018-01-18
  changes:
    - type: major bug
      pull: 3193 # and its #3201 regression
      issue: 48365 # and its 48604 regression
      message: >
        在将 Jenkins 升级到脱离该插件的版本时，请确保已安装脱离的插件（其功能曾经是 Jenkins 的一部分）。
    - type: bug
      references:
        - issue: 48593
        - url: https://wiki.jenkins-ci.org/display/JENKINS/Features+controlled+by+system+properties
          title: 受系统属性控制的 Jenkins 功能
      pull: 3200
      message: >
        确保系统属性 <code>hudson.consoleTailKB</code> 起作用。
    - type: bug
      pull: 3198
      issue: 48505
      message: >
        修复了 Jenkins 2.86 中由于 <code>ExtensionList</code> 锁竞争而导致的性能下降。
    - type: bug
      pull: 3164
      issue: 48080
      message: >
        当提供的两个密码不同时，防止安装向导挂起，而是显示验证错误。
    - type: bug
      issue: 34138
      pull: 3042
      message: >
        防止在同一节点上同时安装 Maven ，以防止出现问题。
    - type: bug
      pull: 3156
      issue: 48157
      message: >
        迁移"我的视图"用户属性的默认"所有视图"名称 ，防止可能出现的 <code>NullPointerException</code> 。
    - type: rfe
      pull: 3155
      issue: 48349
      message: >
        缓存权限名称，使 Jenkins 在 "stop-the-world" Java GC 暂停后可以更快地恢复。
    - type: rfe
      issue: 47429
      pull: 3150
      message: >
        提高用户查找性能，例如通过计算 Git 变更日志。
- version: "2.89.4"
  date: 2018-02-14
  changes:
    - type: security
      message: 重要的安全修复。
      references:
        - url: https://jenkins.io/security/advisory/2018-02-14/
          title: 安全通报
    - type: rfe
      message: >
        安全强化，以防止将来出现类似 SECURITY-624 的问题。
      references:
        - url: https://jenkins.io/security/advisory/2017-12-05/
          title: 2017-12-05 安全通报
        - url: https://jenkins.io/security/advisory/2018-01-22/#xss-vulnerability-in-job-configuration-forms-in-ant-plugin
          title: Ant Plugin 修复于 2018-01-22 安全通报
    - type: bug
      pull: 3187
      message: >
        将 Stapler 从 1.253 更新到 1.254，以便在使用启用了CSRF保护的不同HTTP动词访问需要 <code>POST</code> 的 URL 时可正常工作。
      references:
        - issue: 34254
        - url: https://github.com/stapler/stapler/blob/master/CHANGELOG.md#1254
          title: Stapler 变更日志
    - type: bug
      pull: 3229
      issue: 48899
      message: >
        在升级 Jenkins 之前的版本没有正确记录时，不要降级无关的插件。
    - type: bug
      issue: 47439
      pull: 3166
      message: >
        如果安装向导尚未完成，重新启动时将恢复安装向导，而不是显示常规登录屏幕（由 2.81 引入的缺陷回归）。 
    - type: rfe
      issue: 48348
      pull: 3157
      message: >
        在大规模集群上调度流水线时减少内存使用。
    - type: rfe
      pull: 3143
      issue: 48350
      message: >
        缓存预估的构建执行持续时间，以此来提高具有长列表的正在运行构建时的 UI 性能。

- version: 2.164.1
  date: 2019-03-13
  lts_predecessor: 2.150.3
  lts_baseline: 2.164
  changes: []
  lts_changes:
# Java 11

    - type: major rfe
      pull: 3794
      message: >
        Java 11 现已全面支持。
        自 2.150.x 开始在 Java 11 上运行 Jenkins 的多项改进，包括：支持插件在它们的元数据中申明最小 Java 版本，并拒绝加载不兼容的插件，以及当运行在 Java11 上时安装新的 JAXB 插件后允许使用 JAXB 的 API。
      references:
      - url: /blog/2019/03/11/let-s-celebrate-java-11-support/
        title: 博客发布的申明
      - url: /doc/administration/requirements/jenkins-on-java-11/
        title: 运行在 Java 11
      - url: /doc/administration/requirements/upgrade-java-guidelines/
        title: 升级到 Java 11
      - issue: 52012 # epic
      - issue: 52282 # pull: 3766
      - issue: 55076 # pull: 3794
      - issue: 55048 # pull: 3016
      - issue: 55980 # pull: 3885
      - issue: 55681 # pull: 3711
      - issue: 52285 # pull: 3882

# Other RFE

# CLI

    - type: rfe
      message: >
        当列出一个指定目录时 <code>list-jobs</code> 不再进行递归。
      issue: 48220
      pull: 3711
    - type: rfe
      pull: 3648
      issue: 27177
      message: >
        增加一个新的 CLI 命令 <code>disable-plugin</code> 来禁用一个或多个已安装的插件，并可以选择同时重启 Jenkins。

# Security

    - type: rfe
      references:
      - issue: 47603
      - issue: 47458
      - issue: 55133
      - issue: 53653
      pull: 3827
      message: >
        更新 Trilead SSH 库以支持 OpenSSH 使用 AES256-CTR 加密。
    - type: rfe
      pull: 3764
      issue: 45318
      message: >
        在 Jenkins CLI 中增加对 ed25519 关键算法的支持。
    - type: rfe
      pull: 3861
      issue: 55050
      message: >
        减少以 ZIP 格式下载制品或者工作空间的文件时 SECURITY-904 对性能的影响。

# Setup

    - type: rfe
      pull: 3626
      message: >
        在插件向导中增加<em>语言</em>分类，并会根据浏览器的语言设置自动安装本地化插件。 

# Windows

    - type: rfe
      references:
      - pull: 3854
      - url: https://github.com/kohsuke/winsw/blob/master/CHANGELOG.md#220
        title: Windows Service Wrapper 变更日志
      - url: https://github.com/jenkinsci/windows-slave-installer-module/blob/master/CHANGELOG.md#1100
        title: Windows Agent Installer Module 变更日志
      message: >
        Windows Service Wrapper 从 2.1.2 更新到 2.2.0，Windows Agent Installer 从 1.9.3 更新到 1.10.0，支持禁用、重命名以及归档服务日志。

# Bugs

    - type: bug
      pull: 3884
      references:
      - issue: 55978
      - url: https://github.com/jenkinsci/sshd-module/blob/master/CHANGELOG.md#26
        title: 全部变更日志
      message: >
        SSHD 模块从 2.5 更新到 2.6，当自定义值设置为 <code>org.jenkinsci.main.modules.sshd.SSHD.idle-timeout system property</code> 时，设定一个合适的 Apache Mina 空闲超时时间。

# Developer

    - type: rfe
      issue: 54325
      pull: 3721
      message: >
        开发者: 登陆和注册页面在 2.129 中重新设计了，现在可以从多个插件中接收风格贡献 (<code>SimplePageDecorator</code> 的视图页面 <code>footer</code>)

- version: 2.164.2
  date: 2019-04-10
  changes:
  - type: security
    message: 安全修复。
    references:
    - url: https://jenkins.io/security/advisory/2019-04-10/
      title: 安全公告
  - type: bug
    pull: 3914
    issue: 56114
    message: >
      运行在 Microsoft Docker 下的 Windows Server 2016 时，工作空间以及归档文件无法工作。（由 2.150.2 引入的缺陷回归）
  - type: bug
    pull: 3910
    issue: 43218
    message: >
      当丢弃不可读的指纹数据时避免 <code>NullPointerException</code> 。
- version: 2.164.3
  date: 2019-05-09
  changes:
    - type: bug
      pull: 3940
      issue: 45661
      message: |-
        有问题的 console notes 会使得 <code>ConsoleNote#readFrom</code> 抛出一个无意义的 <code>NegativeArraySizeException</code> 异常，并导致构建日志无法正常显示。
    - type: bug
      pull: 3960
      issue: 56856
      message: 安装向导没有正确地对密码进行转义，导致遇到特殊字符后会有错误。
    - type: bug
      pull: 3761
      references:
        - issue: 53462
        - url: https://bugzilla.mozilla.org/show_bug.cgi?id=1370630
          title: Firefox bug 1370630
      message: 使得 Jenkins 经典界面中的表单提交按钮与 Firefox 即将发布的缺陷修复兼容。
    - type: bug
      pull: 3959
      issue: 56995
      message: 正确地刷新 Maven console annotator 的输出。
    - type: bug
      issue: 57096
      message: 使得 Debian/Ubuntu 的启动脚本与 Java 11 兼容。
    - type: rfe
      issue: 57167
      message: 复用 Stapler 请求分发 telemetry。
- version: 2.176.1
  date: 2019-06-10
  lts_predecessor: 2.164.3
  lts_baseline: 2.176
  lts_changes:
# Major changes
  - type: major rfe
    references:
      - pull: 3838
      - url: https://jenkins.io/blog/2019/02/17/remoting-cli-removed/
        title: 博客发布
    message: > 
      CLI 中通过参数 (<code>-remoting</code> option) 对远程模式的支持已经被移除。
  - type: major rfe
    pull: 3951
    issue: 56776
    message: >
      移除符号  <code>nonStoredPasswordParam</code>  对密码参数定义的误导，因为，它会存储加密后的数据。
  - type: major rfe
    pull: 2691
    issue: 40750
    message: |-
      移除对 CCtray (cc.xml) 文件的默认支持。
      要使用该功能，需要安装插件 <a href="https://plugins.jenkins.io/cctray-xml">CCtray XML Plugin</a>。
# Features

  - type: rfe
    pull: 3686
    issue: 11888
    message: |-
      增加 CLI 命令 <code>stop-job</code> 终止构建。
  - type: rfe
    pull: 3906
    issue: 56200
    message: >
      在日志配置中支持关闭一项日志记录器。
  - type: rfe
    pull: 3934
    issue: 56554
    message: >
      为 REST API 的响应增加运行参数过滤器。
# UI Improvements
#  - type: rfe
#    pull: 3923
#    issue: 56398
#    message: >
#      Mobile friendly layout of the login, loading and restart screens.
  - type: rfe
    pull: 3952
    issue: 16750
    message: |-
      构建结束后更新状态图标。
  - type: rfe
    pull: 3998
    message: |-
      在 Jenkins 节点的界面上移除对 Java Web Start and JNLP 的误导性引用。
#  - type: rfe
#    pull: 3985
#    issue: 56477
#    message: |-
#      The Plugin Manager now provides easier selection for applicable plugin updates with options to select "All", "Compatible" or "None".
#      The selection of "Compatible" plugins (previously "All") has been fixed to exclude all that contain any compatibility warnings.

# Security
  - type: rfe
    pull: 3919 # and 3926
    issue: 24513
    message: >
      当涉及到以虚拟 SYSTEM 用户运行构建时，通知管理员潜在的不安全设置。
  - type: rfe
    pull: 3908
    message: >
      当运行在虚拟的 SYSTEM 认证下时，在构建日志中增加一条日志消息。
# Misc
  - type: rfe
    pull: 4008
    message: |-
      迁移所有中文本地化资源文件到 <a href="https://plugins.jenkins.io/localization-zh-cn">简体中文插件</a>。
  - type: rfe
    pull: 3961
    message: |-
      调整流刷新行为，使得运行在远程的节点上时有更好的性能。这可能会导致部分插件在节点机器上打印构建日志却不刷新输出时丢失消息。
      通过 <code>-Dhudson.util.StreamTaskListener.AUTO_FLUSH=true</code> 可以让自由风格的构建回到之前的行为。
      注意，流水线的构建总是期待远程刷新。
# Dependencies
  - type: rfe
    pull: 3943
    references:
      - issue: 56659
      - issue: 56591
      - url: https://github.com/jenkinsci/winstone/blob/master/CHANGELOG.md#52
        title: 完整变更日志
    message: >
      Winstone 的版本从 5.1 更新到 5.2，使得 HTTPS cipher 为可配置的。
# Notable bugs
  - type: bug
    pull: 3973
    issue: 55292
    message: |-
      从核心中移除邮件相关的本地化字符串。确保你使用 Mailer Plugin 1.23。
  - type: bug
    pull: 3955
    issue: 50504
    message: |-
      如果工作空间已经被一个跨节点运行的流水线重连时使用了，那么，它将不会再给新的构建分配租期。
#  - type: bug
#    pull: 3925
#    issue: 56403
#    message: |-
#      Renaming an agent retained old agent configuration, causing it to re-appear on restart.
#    # Not mentioning regression, since this apparently has existed for 3 years (since Jenkins 2.8)

# Developer

# Dependencies
  - type: rfe
    pull: 3729
    references:
      - url: https://github.com/jenkinsci/jep/tree/master/jep/216
        title: JEP-216
      - url: https://github.com/stapler/stapler/blob/master/CHANGELOG.md#1257
        title: 完整变更日志
    message: |-
      开发者：为了支持从任意插件中加载本地化资源，Stapler 的版本从 1.256 更新到 1.257。
      增加接口 <code>jenkins.PluginLocaleDrivenResourceProvider</code> 用于让其他插件可以定制本地化资源的查找过程。
  - type: rfe
    references:
      - pull: 3896
      - url: https://github.com/jenkinsci/jep/tree/master/jep/216
        title: JEP-216
      - url: https://github.com/kohsuke/localizer/compare/localizer-parent-1.24...localizer-parent-1.26
        title: 完整变更日志
    message: >
      开发者：本地化库的版本从 1.24 更新到 1.26，使用插件可以覆盖查找本地化资源文件的逻辑。
# Other
  - type: rfe
    references:
      - pull: 3967
      - url: https://jenkins.io/doc/developer/security/secrets/
        title: 在 Jenkins 中存储凭据
    message: |-
      开发者：为类似于单行 <code>f:password</code> 的多行文本凭据添加 Jelly UI 组件 <code>f:secretTextarea</code>。
#  - type: rfe
#    pull: 3963
#    message: |-
#      Developer: Deprecated <code>Run.getLogFile()</code>, as it is not compatible with <a href="https://jenkins.io/jep/210">JEP-210</a>.
  - type: rfe
    pull: 3961
    message: |-
      开发者：<code>SystemProperties</code> 现在可以用于节点端的代码。参考 <code>SystemProperties#allowOnAgent</code>。
  changes:
  - type: bug
    pull: 4014
    issue: 57412
    message: 恢复安装向导中用到的中文本地化资源。
  - type: bug
    pull: 4015
    issue: 57111
    message: |-
      Robustness: 当 <code>ComputerListener#onOnline()</code> 发生运行时异常后不把节点设置为离线状态。

- version: 2.176.2
  date: 2019-07-17
  changes:
    - type: security
      message: 重要的安全修复。
      references:
        - url: https://jenkins.io/security/advisory/2019-07-17/
          title: 安全公告
    # backport tickets
    - type: bug
      pull: 4035
      issue: 57725
      message: |-
        用于等待外部进程完成的线程池可能会使类加载器泄露。
    - type: bug
      pull: 4000
      issue: 57528
      message: |-
        当分离的插件（其插件功能曾经是 Jenkins 本身的一部分）作为已经存在的其他插件的隐含依赖时，确保 Jenkins 在启动时对其进行安装。
        这简化了不使用更新中心的专用安装方案的兼容性，例如当从带有某些插件的预包装 Docker 镜像运行 Jenkins 时。
    - type: bug
      pull: 4029
      references:
        - issue: 57477
        - url: https://github.com/kohsuke/winp/blob/master/CHANGELOG.md#128
          title: 完整变更日志
      message: |-
        更新 WinP 从 1.27 到 1.28 ，以修复 Windows 正常进程关闭逻辑中缺少 DLL 和控制台窗口闪退的问题
    - type: rfe
      pull: 4066
      issue: 57993
      message: |-
        用更简单的消息替换一些与代理通道有关的异常堆栈跟踪。
- version: 2.176.3
  date: 2019-08-28
  changes:
    - type: security
      message: 重要的安全修复。
      references:
        - url: https://jenkins.io/security/advisory/2019-08-28/
          title: 安全公告
    - type: bug
      pull: 4001
      issue: 33843
      message: 当其他插件对其仅具有可选依赖时，插件管理器 UI 不再阻止禁用插件。
    - type: bug
      pull: 4096
      issue: 56243
      message: 解决使用 "记住我" 时的性能问题。 (由 2.160 引入的缺陷回归)
    - type: bug
      pull: 4104
      issue: 57383
      message: 测试代理配置时不要抛出异常。 (由 2.168 引入的缺陷回归)
    - type: bug
      pull: 4107
      issue: 55945
      message: 防止 Jenkins 重启和用户会话无效时的偶发 <code>IllegalStateException</code> 异常。

- version: 2.176.4
  date: 2019-09-25
  banner: >
    2.176.4 和 2.190.1 包含相同的安全修复程序。
    我们将提供 2.176.x LTS 系列的附加版本，以允许管理员应用安全更新，而无需进行重大升级。
  changes:
    - type: security
      message: 安全更新。
      references:
        - url: https://jenkins.io/security/advisory/2019-09-25/
          title: 安全公告

- version: 2.190.1
  date: 2019-09-25
  lts_predecessor: 2.176.4
  lts_baseline: '2.190'
  changes: # compared to lts_baseline
    - type: security
      message: 重要的安全修复。
      references:
        - url: https://jenkins.io/security/advisory/2019-09-25/
          title: 2019-09-25 安全公告
        - url: https://jenkins.io/security/advisory/2019-08-28/
          title: 2019-08-28 安全公告
    - type: bug
      pull: 4188
      issue: 59167
      message: |-
        修复 RSS / Atom 提要中缺少的绝对 URL 。 (由 2.190 引入的缺陷回归)
    - type: major bug
      pull: 4176
      issue: 58938
      message: |-
        当提示慢触发的管理警告时， Jenkins UI 中断。 (由 2.189 引入的缺陷回归)

  lts_changes: # compared to lts_predecessor

    # Major RFEs
    - type: major rfe
      pull: 3982
      issue: 37862
      message: |-
        Jenkins 不再在项目或构建目录中创建符号链接。
        如果需要，可以安装 <a href="https://plugins.jenkins.io/build-symlink" target="_blank">Build Symlink</a> 插件来恢复此功能。
        诸如 <code>/job/…/lastStableBuild/</code> 之类的URL不受影响，仅影响直接访问 <code>$JENKINS_HOME</code> 文件系统的工具。
    - type: major rfe
      pull: 4085 # and 4109
      issue: 43610
      message: |-
        从 Jenkins 核心中删除 Trilead SSH 库，并使其在新的<a href="https://plugins.jenkins.io/trilead-api" target="_blank">独立插件</a>中可用。

    # Notable bugs not backported into previous LTS line
    - type: bug
      pull: 4152
      issue: 23349
      message: |-
        在任务名称中添加对表情符号和其他非 UTF-8 字符的支持。 🎉

    # Component updates
    - type: rfe
      pull: 4010
      references:
        - issue: 51577
        - url: https://github.com/jenkinsci/windows-slave-installer-module/blob/master/CHANGELOG.md#111
          title: 完整变更日志
      message: |-
        更新 Windows Agent Installer 从 1.10.0 到 1.11 ，以 .NET 4.6 或更高版本运行时，在代理下载上启用 TLS 1.2 。
    - type: rfe
      references:
        - pull: 4016
        - url: https://github.com/jenkinsci/winstone/blob/master/CHANGELOG.md#53
          title: 完整变更日志
        - title: Jetty 9.4.18 变更日志
          url: https://github.com/eclipse/jetty.project/releases/tag/jetty-9.4.18.v20190429
        - title: Jetty 9.4.17 变更日志
          url: https://github.com/eclipse/jetty.project/releases/tag/jetty-9.4.17.v20190418
        - title: Jetty 9.4.16 变更日志
          url: https://github.com/eclipse/jetty.project/releases/tag/jetty-9.4.16.v20190411
      message: |-
        更新 Winstone-Jetty 从 5.2 到 5.3 ，以更新 Jetty 到 9.4.18 。
    - type: rfe
      pull: 4060
      issue: 57515
      message: |-
        更新 JNA 从 4.5.2 到 5.3.1 ，以解决使用 OpenJDK 时在 AIX 上加载共享库的问题。
    - type: rfe
      pull: 4087
      references:
        - issue: 57959
        - issue: 50095
        - issue: 57713
        - title: 完整变更日志
          url: https://github.com/jenkinsci/remoting/blob/master/CHANGELOG.md#333
      message: |-
        更新 Remoting 到 3.33 。

    # Functional RFEs
    - type: rfe
      references:
        - url: https://jenkins.io/doc/pipeline/steps/core/#fingerprint-record-fingerprints-of-files-to-track-usage
          title: 文档
        - pull: 3915
      message: |-
        支持在流水线和其他任务类型的 <code>fingerprint()</code> 构建步骤中设置排除和大小写敏感。
    - type: rfe
      pull: 3994
      issue: 57121
      message: |-
        提升 <code>ListView</code> 中 Configuration-as-Code 的兼容性。
    - type: rfe
      pull: 4123
      message: |-
        停止在 <code>install-plugin</code> CLI 命令中使用 <code>name</code> 参数。

    # UI/UX RFEs
    - type: rfe
      pull: 3939
      issue: 25046
      message: |-
        注销时删除超时的会话 cookie ，以防止与 header 太大等相关的错误。
    - type: rfe
      pull: 4072
      issue: 58041
      message: |-
        在 Jenkins URL 配置中添加对 IPv6 地址的支持。
    - type: rfe
      pull: 3997
      message: |-
        通过不同阴影的构建球，可以区分新项目、禁用项目和已中止构建的项目。
    - type: rfe
      pull: 3802
      issue: 54854
      message: |-
        当 cron 触发器的执行时间较长时，添加告警。
    - type: rfe
      pull: 4124
      message: |-
        在安装向导中分批安装插件以提高性能。
    - type: rfe
      references:
        - pull: 4105
        - url: https://wiki.jenkins.io/display/JENKINS/Features+controlled+by+system+properties
          title: 受系统属性控制的 Jenkins 功能
      message: |-
        现在可以通过设置系统属性 <code>hudson.node_monitors.AbstractNodeMonitorDescriptor.periodMinutes</code> 来更改节点监视器的默认大小（例如可用磁盘空间）。

- version: 2.190.2
  date: 2019-10-28
  changes:
    - type: bug
      pull: 4204
      issue: 59406
      message: 无法访问名称中带有表情符号的某些项目 URL 。
    - type: bug
      pull: 4263
      issue: 59267
      message: 在基于 HTTP 的 CLI 上增加客户端保持活动 ping 的频率，以防止超时。
    - type: bug
      pull: 4231
      issue: 59580
      message: >
        内部: 发生错误时，<code>hudson.util.ProcessTree.OSProcess#getEnvironmentVariables</code> 返回 <code>null</code> ，即使它不应该发生也是如此。

- version: 2.190.3
  date: 2019-11-20
  changes:
    - type: bug
      pull: 4223
      issue: 59514
      message: >
         稳定性: 不允许用户使用 POST 在需要提交表单的 URL 上重新提交请求，因为那样无论如何都会失败。
    - type: bug
      pull: 4228
      issue: 56809
      message: <code>lastCompletedBuild</code> 永久链接未缓存在 <code>…/builds/permalinks</code> 文件中。
    - type: bug
      pull: 4269
      issue: 48375
      message:  将标签固定到 Atom 供稿链接。
    - type: bug
      pull: 4246
      references:
      - issue: 58296
      - issue: 53462
      - url: https://bugzilla.mozilla.org/show_bug.cgi?id=1370630
        title: Firefox issue 1370630
      message: |-
        在 Firefox 的 Jenkins 经典 UI 中还原表单提交的更改。
        更改导致了带有"文件"格式的内容提交的表单的缺陷回归。
        这样做是为了预料 Firefox 中的错误修正，此错误已被撤消。
        (由 2.164.3 引入的缺陷回归)

- version: 2.204.1
  date: 2019-12-18
  banner: >
    升级为 Jenkins 2.204.1 的 <b>Configuration as code plugin</b> 用户需要查看
    <a href="/doc/upgrade-guide/2.204/#global-configuration-save-and-configuration-as-code-plugin">LTS升级指南全局配置保存</a>主题和
    <a href="/doc/upgrade-guide/2.204/#remove-browser-based-metadata-download-settings"> LTS 升级指南下载设置</a>主题
  lts_predecessor: 2.190.3
  lts_baseline: '2.204'
  changes: # compared to lts_baseline
    - type: rfe
      pull: 4349
      authors:
        - fqueiruga
      issue: 59508
      message: |-
        将鼠标悬停在侧栏链接上时，显示带有完整链接名称的工具提示。
    - type: bug
      pull: 4346
      authors:
        - MRamonLeon
      issue: 59793
      message: |-
        防止错误的子任务提供者使构建永久运行。
    - type: bug
      pull: 4298
      authors:
        - DarphBoBo
      issue: 59665
      message: |-
        修复"插件管理-已安装"列表中<code>卸载</code>列的排序。
  lts_changes: # compared to lts_predecessor
    - type: major rfe
      pull: 4171
      issue: 58993
      authors:
        - jtnord
      message: |-
        在完成加载内存模型之前，请避免调用 <code>Jenkins#save</code> 持久数据。 
        这样可以防止 Jenkins 主配置损坏。
    - type: major rfe
      pull: 3970
      authors:
        - daniel-beck
      message: |-
        删除使用用户浏览器下载更新中心元数据的功能（自 2015 年起不推荐使用）。
        如果没有连接更新站点，Jenkins 将不再通知可用更新。
        在这种情况下，建议使用更新站点的本地镜像，或使用 <a href="https://github.com/jenkinsci/juseppe">Juseppe</a> 之类的自托管更新中心。
    - type: major rfe
      issue: 19887
      message: |-
        允许按用户设置时区。
      pull: 4113
      authors:
        - silent-snowman
    - type: major rfe
      pull: 4239
      issue: 41891
      authors:
        - daniel-beck
      message: |-
        为资源根 URL 添加一个选项，Jenkins 可以通过该选项为用户生成的静态资源（例如工作空间文件或已归档的制品）提供服务，而无需 Content-Security-Policy 标头。
    - type: rfe
      pull: 4242
      authors:
        - daniel-beck
      references:
        - pull: 4040
      message: |-
        停止绑定 Maven 插件、 Subversion 插件和 Jenkins war 文件中的一些其他插件。
        在极少数情况下，尝试安装与 1.310 版本之前的 Jenkins 兼容的插件时，可能会导致问题。
        Jenkins 项目目前未发布任何此类插件。
    - type: rfe
      message: |-
        弃用 macOS 本地安装程序以使用 Homebrew。
      references:
      - url: https://jenkins.io/blog/2019/11/25/macos-native-installer-deprecation/#rollout-plan
        title: macOS 本地安装程序弃用博客文章
      authors:
        - oleg-nenashev
    - type: bug
      pull: 4246
      references:
        - issue: 58296
        - issue: 53462
        - url: https://bugzilla.mozilla.org/show_bug.cgi?id=1370630
          title: Firefox issue 1370630
      authors:
        - thomasgl-orange
      message: |-
        还原在 Firefox 的 Jenkins 经典 UI 中对表单提交的更改（此更改导致了带有"文件"输入的表单的缺陷回归）。
        这样做是为了预料 Firefox 中的错误修正，此错误已被撤消。
        (由 2.173 引入的缺陷回归)
    - type: rfe
      pull: 4209
      references:
        - issue: 19760
        - issue: 31209
      authors:
        - slonopotamus
      message: |-
        删除构建历史记录小部件中关于构建说明的 100 个字符长度限制。
    - type: rfe
      pull: 4340
      references:
        - url: https://github.com/jenkinsci/remoting/releases/tag/remoting-3.36
          title: Remoting 3.36 发布说明
        - pull: 4193
        - url: https://github.com/jenkinsci/remoting/releases/tag/remoting-3.35
          title: Remoting 3.35 发布说明
        - pull: 4208
        - pull: 4186
        - issue: 53461
        - pull: 4165
        - url: https://github.com/jenkinsci/remoting/releases/tag/remoting-3.34
          title: Remoting 3.34 发布说明
        - url: https://github.com/jenkinsci/remoting/pull/338
          title: 减少远程连接步骤
      message: |-
        将 Remoting 从 3.33 更新到 3.36。
        为入站 TCP 代理添加新的连接模式。
        将最低必需的 Remoting 版本更新为 3.14。
        添加命令行选项 "-help" 和 "-version"。
      authors:
        - jeffret-b

- version: 2.204.2
  date: 2020-01-29
  changes:
    - type: security
      message: 重要的安全修复。
      references:
        - url: https://jenkins.io/security/advisory/2020-01-29/
          title: 安全公告
      authors:
        - daniel-beck
        - jeffret-b
        - jvz
        - wadeck
    - type: major bug
      pull: 4394
      issue: 59107
      authors:
        - jvz
      message: |-
         验证另一个用户时，当前用户不再注销。
    - type: rfe
      message: 与 Stapler 路由相关的安全增强。
      authors:
        - daniel-beck
    - type: rfe
      message: >
        安全增强：在 REST API 响应中将 <code>X-Content-Type-Options</code> 设置为 <code>nosniff</code>。
      authors:
        - wadeck
    - type: bug
      pull: 4382
      issue: 60351
      authors:
        - jtnord
      message: |-
        如果 <code>hudson.Util.maxFileDeletionRetries</code> 为零，禁用多次删除尝试。
    - type: bug
      pull: 4329
      issue: 57304
      authors:
        - lgoenner
      message: |-
        通过在 Computer.removeExecutor 中删除一次性执行器来防止 master 上的“僵尸”执行器。
    - type: bug
      pull: 4357
      issue: 60167
      authors:
        - bulanovk
      message: |-
        修复在 CephFS 上创建空文件时的 AtomicFileWriter 性能问题。
    - type: bug
      pull: 4348
      issue: 60092
      authors:
        - pilou-
      message: |-
        开发者: ViewGroupMixIn#getPrimaryView() 可能返回 <code>null</code>，需要基于这个周版本及以后的版本在插件中进行检查。
        这是一个过渡状态，直到实现默认视图为止。

- version: 2.204.3
  date: 2020-02-28
  changes:
  - type: rfe
    category: rfe
    pull: 4452
    issue: 60821
    authors:
    - jtnord
    references:
      - pull: 4452
      - issue: 60821
      - url: https://github.com/jenkinsci/winstone/releases/tag/winstone-5.7
        title: Winstone 5.7 发布说明
    message: |-
      内部: Winstone 5.7: 将 Jetty 线程池名称更改为 “Jetty（winstone）”。
  - type: bug
    category: bug
    pull: 4430
    issue: 60750
    authors:
    - jglick
    message: |-
      如果在运行安装向导之前已经通过脚本配置了 Jenkins 根 URL，即使跳过了创建 admin 用户的选项，也要跳过配置面板。
  - type: bug
    category: bug
    pull: 4433
    issue: 60725
    authors:
    - MRamonLeon
    message: |-
       在安装 Monitoring 插件时，防止有关 Java 11 缺少的、由 JavaMelody 触发的类的错误告警。
  - type: bug
    category: bug
    pull: 4422
    issue: 60716
    authors:
    - jglick
    message: |-
      当构建连续失败时，在系统日志中包括详细信息。
  - type: bug
    category: bug
    pull: 4434
    issue: 60678
    authors:
    - MRamonLeon
    message: |-
      修复 AdoptOpenJDK 11 的 Java 版本检查。 
  - type: bug
    pull: 4413
    issue: 60625
    message: |-
      防止更新中心在进行数据解析时 Jenkins 页面卡住。
    authors:
      - jglick
  - type: bug
    category: bug
    pull: 4452
    issue: 57888
    authors:
    - lrpg
    message: |-
      Winstone 5.7: 修复对系统日志记录定制的支持 (由 2.177 引入的缺陷回归)。
    references:
      - pull: 4452
      - issue: 57888
      - url: https://github.com/jenkinsci/winstone/releases/tag/winstone-5.7
        title: Winstone 5.7 release notes
  - type: bug
    category: bug
    pull: 4271
    issue: 42658
    authors:
    - ilpianista
    message: |-
       修复代理脱机时代理 API 中的空指针异常（例如查询代理版本或操作系统说明）。

  # pull: 4435 (PR title: Disable native maven based tests)

- version: 2.204.4
  date: 2020-03-03
  changes:
  - type: major bug
    category: regression
    pull: 4539
    issue: 60857
    references:
      - pull: 4539
      - issue: 60857
      - url: https://github.com/jenkinsci/winstone/releases/tag/winstone-5.8
        title: Winstone 5.8 发布说明
    authors:
    - oleg-nenashev
    message: |-
       传递某些类型（例如域通配符）的证书时，修复 Jetty <em>不支持包含多个证书的密钥库</em>的错误(由 2.204.3 引入的缺陷回归)。

- version: 2.204.5
  date: 2020-03-07
  banner: >
    此版本重新引入了 Jenkins 2.177 到 2.203.3 的系统日志记录自定义缺陷（<a href="https://issues.jenkins-ci.org/browse/JENKINS-57888">JENKINS-57888 - 系统日志记录自定义</a>），因为它不如其它被修复的缺陷那么严重。
    计划在 2.22.1 版本中修复。
  changes:
  - type: major bug
    category: regression
    issue: 60409
    authors:
      jglick
    message: |-
      修复最大表单内容大小和表单内容密钥的传递(由 Jenkins 2.204.3 和 Jetty 9.4.20 引入的缺陷回归)。
  - type: major bug
    category: regression
    issue: 60199
    authors:
      olamy
      jglick
    message: |-
      修复由于 X-Forwarded-Host 和 X-Forwarded-Port 订阅问题而导致的将不正确的反向代理重定向到 127.0.0.1 的问题(由 Jenkins 2.204.3 和 Jetty 9.4.20 引入的缺陷回归)。
  - type: bug
    category: regression
    references:
      - issue: 60409
      - issue: 60199
      - url: https://github.com/jenkinsci/winstone/blob/master/CHANGELOG.md
        title: Winstone 变更日志
    message: |-
      将 Winstone 从 5.8 还原到 5.3，以解决 Winstone 更高版本中嵌入的 Jetty Web 容器引入的问题。
      默认最大表单大小限制和反向代理重定向被还原(由 2.204.3 引入的缺陷回归)。

- version: 2.204.6
  date: 2020-03-25
  changes:
    - type: security
      message: 重要安全修复。
      references:
        - url: /security/advisory/2020-03-25/
          title: 安全公告
      authors:
        - daniel-beck
        - wadeck
    - type: rfe
      message: 与请求路由和 CSRF 保护有关的安全增强。
      references:
        - url: /doc/upgrade-guide/2.204/#upgrading-to-jenkins-lts-2-204-6
          title: 相关升级指导
      authors:
        - jvz

- version: 2.222.1
  date: 2020-03-25
  lts_predecessor: 2.204.6
  lts_baseline: '2.222'
  banner: >
    Jenkins 启动时将不从磁盘加载全局构建丢弃程序的配置(<a href="https://issues.jenkins-ci.org/browse/JENKINS-61688">JENKINS-61688</a>)。
    配置已保存，但在重新启动时将不加载。
    Jenkins 2.222.1 将始终以 Job Build Discarder 的默认配置启动。
    重新启动时将忽略自定义全局构建丢弃配置。
    每次 Jenkins 重新启动时，都会配置默认的全局构建丢弃。
  changes: # compared to lts_baseline 2.222
  - type: security
    message: 重要安全修复。
    references:
      - url: /security/advisory/2020-03-25/
        title: 安全公告
    authors:
      - daniel-beck
      - wadeck
  - type: major bug
    category: regression
    pull: 4568
    issue: 61429
    authors:
    - fqueiruga
    message: |-
      修复了任务配置表单中之前保存步骤中存在的拖放操作问题 (由 2.217 引入的缺陷回归)。
  - type: major bug
    category: regression
    pull: 4542
    issue: 60409
    references:
      - pull: 4542
      - issue: 60409
      - url: https://github.com/jenkinsci/winstone/releases/tag/winstone-5.9
        title: Winstone 5.9 变更日志
      - url: https://github.com/eclipse/jetty.project/releases/tag/jetty-9.4.27.v20200227
        title: Jetty 9.4.27 变更日志
    authors:
    - jglick
    - olamy
    message: |-
      Winstone 5.9: 修复最大表单内容大小和表单内容密钥的传递(由 Jetty 9.4.20 和 Jenkins 2.205 引入的缺陷回归)。
  - type: major bug
    category: regression
    pull: 4542
    issue: 60199
    authors:
    - jglick
    - olamy
    references:
      - pull: 4542
      - issue: 60199
      - url: https://github.com/jenkinsci/winstone/releases/tag/winstone-5.9
        title: Winstone 5.9 变更日志
      - url: https://github.com/eclipse/jetty.project/releases/tag/jetty-9.4.27.v20200227
        title: Jetty 9.4.27 变更日志
    message: |-
      Winstone 5.9: 修复由于 X-Forwarded-Host 和 X-Forwarded-Port 订阅问题而导致的将不正确的反向代理重定向到 Host 的问题(由 Jetty 9.4.20 和 Jenkins 2.205 引入的缺陷回归)。
  - type: rfe
    message: 与请求路由和 CSRF 保护有关的安全增强。
    references:
      - url: /doc/upgrade-guide/2.204/#upgrading-to-jenkins-lts-2-204-6
        title: 相关升级指导
    authors:
      - jvz
  - type: rfe
    category: developer
    pull: 4515
    authors:
    - daniel-beck
    message: |-
      开发者: 在调试模式下，默认监听回送接口。
  lts_changes: # compared to lts_predecessor 2.204.5
  - type: major rfe
    category: major rfe
    pull: 4463
    issue: 60920
    authors:
    - fqueiruga
    - daniel-beck
    message: |-
      修改标题栏和 breadcrumbs 导航的布局和图标。
      依赖于 Jenkins 布局细节的插件的实例（例如 Simple Theme Plugin）可能会遇到 UI/布局问题。
      通过将 <code>jenkins.ui.refresh</code> 系统属性设置为 <code>true</code>，可以启用新的实验性标题颜色方案。
  - type: major rfe
    category: major rfe
    pull: 4368
    authors:
    - daniel-beck
    message: |-
      添加全局配置的构建丢弃程序，删除未标记为“永久保留”的旧构建，即使没有配置、积极性较低、配置的按项目构建丢弃程序或者在构建完成后定期执行。
  - type: major rfe
    pull: 4339
    authors:
      - daniel-beck
    message: |-
      将云配置从"配置系统"移动到"管理节点"页面上其自身的配置表单中。
  - type: major rfe
    category: major rfe
    pull: 4415
    issue: 40228
    authors:
    - ksenia-nenasheva
    - jglick
    message: |-
      删除全局安全配置中的<strong>启用安全</strong>复选框。
  - type: major rfe
    category: major rfe
    pull: 4509
    authors:
    - daniel-beck
    message: |-
      删除禁用 <strong>CSRF 保护</strong>的功能。
      从较旧版本的 Jenkins 升级的实例将启用 CSRF 保护和设置默认的发行者，如果之前被禁用。
  - type: major rfe
    pull: 3991
    authors:
      - daniel-beck
    message: |-
      重新设计密码字段，以防止自动填写密码（登录表单除外）。 
      减少提供更新存储密码的浏览器。
      通过将系统属性 <code>hudson.Functions.hidingPasswordFields</code> 设置为 <code>false</code> 来还原。
  - type: major rfe
    message: |-
      弃用 macOS 本地安装程序包。
    references:
      - url: https://jenkins.io/blog/2019/11/25/macos-native-installer-deprecation/
        title: Jenkins macOS 本地安装程序弃用
    authors:
      - oleg-nenashev
  - type: major rfe
    category: major rfe
    pull: 4387
    issue: 60381
    authors:
    - jeffret-b
    message: |-
      删除古老的、不推荐使用的、不支持的代理协议 <code>Inbound TCP Agent Protocol/1</code>, <code>Inbound TCP Agent Protocol/2</code> 和 <code>Inbound TCP Agent Protocol/3</code>。
      将 Remoting 从 3.36 更新到 4.2，以删除不受支持的协议和增加对于 WebSocket 的支持。
    references:
      - issue: 60381
      - url: https://github.com/jenkinsci/remoting/releases/tag/remoting-3.40
        title: Remoting 3.40 发布说明
      - url: https://github.com/jenkinsci/remoting/releases/tag/remoting-4.0
        title: Remoting 4.0 发布说明
      - url: https://github.com/jenkinsci/remoting/releases/tag/remoting-4.0.1
        title: Remoting 4.0.1 发布说明
      - url: https://github.com/jenkinsci/remoting/releases/tag/remoting-4.2
        title: Remoting 4.2 发布说明
  - type: major rfe
    category: major rfe
    pull: 4369
    authors:
    - jglick
    references:
      - url: https://github.com/jenkinsci/jep/blob/master/jep/222/README.adoc
        title: JEP-222
      - url: /blog/2020/02/02/web-socket/
        title: 博客文章
    message: |-
      增加实验性的 WebSocket 支持。
  - type: major rfe
    category: major rfe
    pull: 4450
    issue: 51856
    authors:
    - fcojfernandez
    message: |-
      扩展当前里程碑，以便插件可以在 Jenkins 初始化期间更新任务和配置。
      增加初始化里程碑: <code>SYSTEM_CONFIG_LOADED</code>、<code>SYSTEM_CONFIG_ADAPTED</code> 和 <code>JOB_CONFIG_ADAPTED</code>。
  - type: major rfe
    category: major rfe
    pull: 4463
    authors:
    - fqueiruga
    - daniel-beck
    message: |-
      引入一个新的实验性 UI，可以通过将 <code>jenkins.ui.refresh</code> 系统属性设置为 <code>true</code> 来启用。
      作为 UI/UX 改进的一部分，当前，它包括一个新的标题颜色方案，后续将添加更多更改。
    references:
      - pull: 4463
      - issue: 60920
      - url: https://github.com/jenkinsci/jep/blob/master/jep/223/README.adoc
        title: JEP-223
      - url: https://jenkins.io/sigs/ux/
        title: Jenkins UX SIG
  - type: major rfe
    category: major rfe
    pull: 4501
    authors:
    - daniel-beck
    - mikecirioli
    - EstherAF
    - aHenryJard
    references:
      - pull: 4501
      - issue: 60266
      - url: https://github.com/jenkinsci/jep/blob/master/jep/223/README.adoc
        title: JEP-223
    message: |-
      添加新的实验性 <code>全局/管理</code> 权限，该权限允许用户在不具有 <code>全局/Administer</code> 权限的情况下配置部分全局 Jenkins 配置。
      这是一项实验性功能，默认情况下处于禁用状态，可以通过将 <code>jenkins.security.ManagePermission</code> 系统属性设置为 <code>true</code> 来启用。
  - type: major rfe
    category: major rfe
    pull: 4506
    authors:
    - timja
    - daniel-beck
    references:
      - pull: 4506
      - issue: 12548
      - url: https://github.com/jenkinsci/jep/blob/master/jep/224/README.adoc
        title: JEP-224
      - url: https://plugins.jenkins.io/extended-read-permission/
        title: Extended Read Permission 插件
    message: |-
      添加一个新的实验性<code>全局/系统读取</code>权限，该权限（几乎）为 Jenkins 实例提供完全读取权限。
      默认情况下，该权限是禁用的，请安装 Extended Read Permission 插件以将其激活。
  - type: rfe
    category: rfe
    pull: 4414
    issue: 60634
    authors:
    - jglick
    message: |-
      现在可以从（非流水线）构建中使用环境变量 <code>WORKSPACE_TMP</code> 来访问与构建工作空间关联的临时目录。
  - type: rfe
    category: rfe
    pull: 4365
    issue: 60266
    authors:
    - mikecirioli
    references:
      - pull: 4365
      - issue: 60266
      - url: https://github.com/jenkinsci/jep/blob/master/jep/223/README.adoc
        title: JEP-223
      - url: https://jenkins.io/security/advisory/2017-04-10/#matrix-authorization-strategy-plugin-allowed-configuring-dangerous-permissions
        title: 2017-04-10 Matrix Authorization 插件的安全公告
      - url: https://jenkins.io/security/advisory/2017-04-10/#role-based-authorization-strategy-plugin-allowed-configuring-dangerous-permissions
        title: 2017-04-10 Role-Based Authorization 插件的安全公告
    message: |-
      弃用<code>全局/运行脚本</code>、<code>全局/上传插件</code>和<code>全局/配置更新中心</code>权限。
      在 2017 年，主要授权插件中的权限被宣布为危险且默认情况下被禁用。
      自定义授权策略实现将授予<code>全局/Administer</code> 权限，而不暗示这三个权限中的一个或多个将不再按预期工作。
      在没有<code>全局/Administer</code> 权限的情况下向用户授予这些权限中任何一个的配置将不能按预期工作。
  - type: major bug
    category: regression
    pull: 4471
    issue: 60884
    authors:
    - AaronZurawski
    message: |-
      修复在获取具有状态阈值的运行列表时的空指针异常（由 2.202 引入的缺陷回归）。
  - type: major bug
    pull: 4394
    issue: 59107
    message: |-
      验证另一个用户时，当前用户不再注销。
    authors:
      - jvz
  - type: bug
    category: regression
    pull: 4452
    issue: 57888
    authors:
    - lrpg
    message: |-
      Winstone 5.9: 修复对自定义系统日志的支持(由 2.204.5 引入的缺陷回归)。
    references:
      - pull: 4452
      - issue: 57888
      - url: https://github.com/jenkinsci/winstone/releases/tag/winstone-5.9
        title: Winstone 5.9 变更日志
      - url: https://github.com/eclipse/jetty.project/releases/tag/jetty-9.4.27.v20200227
        title: Jetty 9.4.27 变更日志

- version: 2.222.2
  date: 2020-04-22
  banner: >
    Jenkins 2.222.2 未打包或发布。
    计划在 2.222.2 中进行的所有更改都包含在 2.222.3 中。
  changes:
  - type: bug
    category: internal
    authors:
    - kohsuke
    message: |-
      Jenkins 2.222.2 未放置在制品仓库中或下载站点上。

- version: 2.222.3
  date: 2020-04-22
  changes:
  - type: major bug
    category: major bug
    pull: 4602
    issue: 61688
    authors:
    - daniel-beck
    message: |-
      重新启动时使用保存的全局构建丢弃配置。
  - type: major bug
    category: regression
    pull: 4607
    issue: 61692
    authors:
    - daniel-beck
    message: |-
      修复设置密码后代理表单验证的问题(由 2.222.1 引入的缺陷回归)。
  - type: bug
    category: bug
    pull: 4540
    issue: 60788
    authors:
    - slide
    message: |-
      防止在没有工具安装程序元数据的情况下单击自定义更新中心的<em>立即检查</em>时的 NullPointerException。
  - type: bug
    category: bug
    pull: 4525
    issue: 60454
    authors:
    - Wadeck
    - daniel-beck
    references:
      - pull: 4525
      - issue: 60454
      - issue: 55070
      - issue: 59992
      - issue: 61192
    message: |-
      防止出现 "Jenkins.instance is missing" 的情况。
  - type: rfe
    category: rfe
    pull: 4573
    issue: 61465
    authors:
    - daniel-beck
    message: |-
      开发者: 使 <code>h.checkAnyPermission</code> 和 <code>&lt;l:layout permissions="..."&gt;</code> 可以在非 <code>AccessControlled</code> 的对象上工作。
  - type: rfe
    category: internal
    pull: 4532
    issue: 61279
    authors:
    - timja
    message: |-
      开发者: 通过删除不推荐使用的 findbugs 注解来防止虚假的不推荐使用消息。

- version: "2.222.4"
  date: 2020-05-24
  changes:
  - type: major bug
    category: regression
    pull: 4701
    issue: 62133
    authors:
    - daniel-beck
    message: |-
      当根目录 URL 配置指向先前配置的根目录 URL 时，防止表单验证出现 “404 Not Found” 错误（由 2.222.1 引入的缺陷回归）。
  - type: bug
    category: bug
    pull: 4601
    issue: 61409
    authors:
    - jeffret-b
    - jglick
    - Vlatombe
    references:
    - issue: 61409
    - pull: 4601
    - pull: 4596
    - url: https://github.com/jenkinsci/remoting/releases/tag/remoting-4.2.1
      title: Remoting 4.2.1 变更日志
    - url: "/blog/2020/02/02/web-socket/"
      title: WebSockets 博客文章
    - url: https://github.com/jenkinsci/jep/blob/master/jep/222/README.adoc
      title: JEP-222
    message: |-
      升级到 Remoting 4.2.1，以解决 WebSockets 上的大量有效负载的问题。
      需要具有 Remoting 4.2.1 或更高版本的配套 <code>agent.jar</code>。
  - type: bug
    category: bug
    pull: 4606
    issue: 61694
    authors:
    - oleg-nenashev
    message: |-
      更新 Groovy Init hooks，使其在任务配置修改后运行。
  - type: bug
    category: regression
    pull: 4629
    issue: 61660
    authors:
    - sladyn98
    message: |-
      修复安装向导中错误消息之间的间隔（由 2.222.1 引入的缺陷回归）。
  - type: bug
    category: regression
    pull: 4653
    issue: 61711
    authors:
    - rishabhBudhouliya
    message: |-
      修复 git 插件之类的工具（这些工具会在 PATH 中搜索其可执行文件）的输入字段提示 (由 2.222.1 引入的缺陷回归)。
  - type: bug
    category: bug
    pull: 4536
    issue: 61284
    authors:
    - timja
    message: |-
      删除只读用户在 <code>textarea</code> 表单元素下方的灰色条。
  - type: bug
    category: bug
    pull: 4622
    issue: 61812
    authors:
    - timja
    message: |-
      在具有“全局/系统读取”或“项目/扩展读取”权限的用户的只读配置表单上，区分已定义（<strong>*****</strong>）和未定义（<strong>N/A</strong>）密码。
  - type: rfe
    category: rfe
    pull: 4479
    issue: 61202
    authors:
    - timja
    references:
    - issue: 61202
    - pull: 4479
    - issue: 61321
    - pull: 4541
    message: |-
      具有扩展读取权限的用户现在将获得外观更具只读性的 UI。

# DO NOT EDIT THIS FILE DIRECTLY
# ALL CHANGES MUST GO THROUGH PULL REQUESTS
# MALFORMED FILE CONTENTS WILL BREAK THE SITE BUILD
